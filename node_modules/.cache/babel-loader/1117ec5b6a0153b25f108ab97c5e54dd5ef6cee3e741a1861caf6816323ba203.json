{"ast":null,"code":"import React,{useState}from'react';import{Line}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from'chart.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);const createCalibratedSigmoid=function(minCap,maxCap){let k=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0.1;let d0=arguments.length>3&&arguments[3]!==undefined?arguments[3]:-42;return d=>{const raw=1/(1+Math.exp(-k*(d-d0)));// standard sigmoid\nconst scaled=minCap+raw*(maxCap-minCap);return scaled*100;};};export default function DebuffChanceCalculator(){const[accuracy,setAccuracy]=useState(100);const[resistance,setResistance]=useState(100);const[minCap,setMinCap]=useState(0.08);// 8%\nconst[maxCap,setMaxCap]=useState(0.92);// 92%\nconst diff=accuracy-resistance;const sigmoid=createCalibratedSigmoid(minCap,maxCap);const chance=sigmoid(diff);const xValues=Array.from({length:201},(_,i)=>i-100);const yValues=xValues.map(d=>sigmoid(d));const data={labels:xValues,datasets:[{label:'Debuff Chance (%)',data:yValues,borderColor:'blue',borderWidth:2,fill:false},{label:'Your Input',data:xValues.map(x=>x===diff?chance:null),pointBackgroundColor:'red',pointBorderColor:'red',pointRadius:xValues.map(x=>x===diff?6:0),showLine:false}]};const options={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:'Debuff Application Chance vs Accuracy - Resistance'}},scales:{x:{title:{display:true,text:'Accuracy - Resistance'}},y:{min:0,max:100,title:{display:true,text:'Chance to Apply Debuff (%)'}}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"Raid: Debuff Chance Calculator\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mb-4 flex-wrap\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex flex-col\",children:[\"Accuracy\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:accuracy,onChange:e=>setAccuracy(Number(e.target.value)),className:\"border p-2 rounded\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex flex-col\",children:[\"Resistance\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:resistance,onChange:e=>setResistance(Number(e.target.value)),className:\"border p-2 rounded\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex flex-col\",children:[\"Min Chance Cap (%)\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:0,max:1,step:0.01,value:minCap,onChange:e=>setMinCap(Number(e.target.value)),className:\"border p-2 rounded\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex flex-col\",children:[\"Max Chance Cap (%)\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:0,max:1,step:0.01,value:maxCap,onChange:e=>setMaxCap(Number(e.target.value)),className:\"border p-2 rounded\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4\",children:[\"Chance to apply debuff: \",/*#__PURE__*/_jsxs(\"strong\",{children:[chance.toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsx(Line,{data:data,options:options})]});}","map":{"version":3,"names":["React","useState","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","createCalibratedSigmoid","minCap","maxCap","k","arguments","length","undefined","d0","d","raw","Math","exp","scaled","DebuffChanceCalculator","accuracy","setAccuracy","resistance","setResistance","setMinCap","setMaxCap","diff","sigmoid","chance","xValues","Array","from","_","i","yValues","map","data","labels","datasets","label","borderColor","borderWidth","fill","x","pointBackgroundColor","pointBorderColor","pointRadius","showLine","options","responsive","plugins","legend","position","title","display","text","scales","y","min","max","className","children","type","value","onChange","e","Number","target","step","toFixed"],"sources":["/home/tyrel/projects/debuff-chance-calculator/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\nconst createCalibratedSigmoid = (minCap, maxCap, k = 0.1, d0 = -42) => {\n  return (d) => {\n    const raw = 1 / (1 + Math.exp(-k * (d - d0))); // standard sigmoid\n    const scaled = minCap + raw * (maxCap - minCap);\n    return scaled * 100;\n  };\n};\n\nexport default function DebuffChanceCalculator() {\n  const [accuracy, setAccuracy] = useState(100);\n  const [resistance, setResistance] = useState(100);\n  const [minCap, setMinCap] = useState(0.08);  // 8%\n  const [maxCap, setMaxCap] = useState(0.92);  // 92%\n\n  const diff = accuracy - resistance;\n  const sigmoid = createCalibratedSigmoid(minCap, maxCap);\n  const chance = sigmoid(diff);\n\n  const xValues = Array.from({ length: 201 }, (_, i) => i - 100);\n  const yValues = xValues.map(d => sigmoid(d));\n\n  const data = {\n    labels: xValues,\n    datasets: [\n      {\n        label: 'Debuff Chance (%)',\n        data: yValues,\n        borderColor: 'blue',\n        borderWidth: 2,\n        fill: false,\n      },\n      {\n        label: 'Your Input',\n        data: xValues.map(x => (x === diff ? chance : null)),\n        pointBackgroundColor: 'red',\n        pointBorderColor: 'red',\n        pointRadius: xValues.map(x => (x === diff ? 6 : 0)),\n        showLine: false,\n      },\n    ],\n  };\n\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top',\n      },\n      title: {\n        display: true,\n        text: 'Debuff Application Chance vs Accuracy - Resistance',\n      },\n    },\n    scales: {\n      x: {\n        title: {\n          display: true,\n          text: 'Accuracy - Resistance',\n        },\n      },\n      y: {\n        min: 0,\n        max: 100,\n        title: {\n          display: true,\n          text: 'Chance to Apply Debuff (%)',\n        },\n      },\n    },\n  };\n\n  return (\n    <div className=\"p-4 max-w-2xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-4\">Raid: Debuff Chance Calculator</h1>\n      <div className=\"flex gap-4 mb-4 flex-wrap\">\n        <label className=\"flex flex-col\">\n          Accuracy\n          <input\n            type=\"number\"\n            value={accuracy}\n            onChange={e => setAccuracy(Number(e.target.value))}\n            className=\"border p-2 rounded\"\n          />\n        </label>\n        <label className=\"flex flex-col\">\n          Resistance\n          <input\n            type=\"number\"\n            value={resistance}\n            onChange={e => setResistance(Number(e.target.value))}\n            className=\"border p-2 rounded\"\n          />\n        </label>\n        <label className=\"flex flex-col\">\n          Min Chance Cap (%)\n          <input\n            type=\"number\"\n            min={0}\n            max={1}\n            step={0.01}\n            value={minCap}\n            onChange={e => setMinCap(Number(e.target.value))}\n            className=\"border p-2 rounded\"\n          />\n        </label>\n        <label className=\"flex flex-col\">\n          Max Chance Cap (%)\n          <input\n            type=\"number\"\n            min={0}\n            max={1}\n            step={0.01}\n            value={maxCap}\n            onChange={e => setMaxCap(Number(e.target.value))}\n            className=\"border p-2 rounded\"\n          />\n        </label>\n      </div>\n      <p className=\"mb-4\">\n        Chance to apply debuff: <strong>{chance.toFixed(2)}%</strong>\n      </p>\n      <Line data={data} options={options} />\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}